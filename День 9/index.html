<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"
    />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Document</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/fullPage.js/4.0.20/fullpage.min.css"
    />
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        user-select: none;
      }

      h2 {
        font-size: 3rem;
      }

      section:nth-of-type(1) {
        background-color: #7fb5b5;
      }

      section:nth-of-type(2) {
        background-color: #efa94a;
      }

      section:nth-of-type(3) {
        background-color: #ff8c69;
      }

      section:nth-of-type(4) {
        background-color: #ffb28b;
      }

      section:nth-of-type(5) {
        background-color: #e6e6fa;
      }

      section:nth-of-type(6) {
        background-color: #77dd77;
      }

      section:nth-of-type(7) {
        background-color: #e4717a;
      }

      section:nth-of-type(8) {
        background-color: #b39f7a;
      }

      section:nth-of-type(9) {
        background-color: #3eb489;
      }

      section:nth-of-type(10) {
        background-color: #ccccff;
      }

      button {
        border: none;
        outline: none;
        padding: 20px 40px;
        margin-bottom: 10px;
        font-size: 2rem;
        border-radius: 10px;
        background-color: #cccaca;
      }

      button:hover {
        cursor: pointer;
        background: #afd5d5;
      }

      .section__btm {
        display: flex;
        flex-direction: column;
        gap: 10px;
        align-items: center;
        justify-content: center;
        background-color: #fff;
        border-radius: 10px;
        padding: 20px;
        max-width: 1200px;
        margin-inline: auto;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
      }
    </style>
  </head>
  <body>
    <div id="fullpage">
      <section class="section">
        <div class="section__btm">
          <h2>Пример 1</h2>
          <a name="first"> 1 anchor</a><br />
          <a name="second"> 2 anchor</a><br />
          <a name="third"> 3 anchor</a><br />
          <button onclick="getAnchor()">click</button>
          <div id="info-anchor"></div>
        </div>
      </section>
      <script>
        const getAnchor = () => {
          document.getElementById("info-anchor").innerHTML =
            "Всего якорей: " + document.anchors.length;
        };
      </script>

      <section class="section">
        <div class="section__btm">
          <h2>Пример 2</h2>
          <button onclick="changeColors()">Изменить цвета</button>
          <a href="#">Ссылка для примера</a>
        </div>
      </section>
      <script>
        const changeColors = () => {
          document.body.style.backgroundColor = "#00FF80";
          document.body.style.color = "#333333";

          const links = document.getElementsByTagName("a");
          for (let i = 0; i < links.length; i++) {
            links[i].style.color = "#FF0000";
          }
        };
      </script>

      <section class="section">
        <div class="section__btm">
          <h2>Пример 3</h2>
          <button onclick="getHtmlInfo()">
            Инфа о последнем редактировании документа
          </button>
          <div id="html-info"></div>
        </div>
      </section>
      <script>
        const getHtmlInfo = () => {
          document.getElementById("html-info").innerHTML =
            "Последний раз HTML документ редактировался: " +
            document.lastModified;
        };
      </script>

      <section class="section">
        <div class="section__btm">
          <h2>Пример 3</h2>
          <button onclick="getElements()">Посчитать элементы INPUT</button>
          <input type="color" />
          <div id="input-info"></div>
        </div>
      </section>
      <script>
        const getElements = () => {
          const inputs = document.getElementsByTagName("INPUT");
          document.getElementById("input-info").innerHTML =
            "Количество элементов INPUT на странице: " + inputs.length;
        };
      </script>

      <section class="section">
        <div class="section__btm">
          <h2>Задание 1</h2>
          <a href="gallery.html"><button>Перейти на страницу</button></a>
        </div>
      </section>

      <section class="section">
        <div class="section__btm">
          <h2>Задание 2</h2>
          <div class="form-container" style="width: 100%; max-width: 500px">
            <div style="margin-bottom: 15px">
              <label for="season">Ваше любимое время года: </label>
              <input
                type="text"
                id="season"
                style="padding: 5px; width: 200px"
              />
            </div>
            <div style="margin-bottom: 15px">
              <label for="description"
                >Охарактеризуйте ваше любимое время года:
              </label>
              <input
                type="text"
                id="description"
                style="padding: 5px; width: 200px"
              />
            </div>
            <div style="margin-bottom: 15px">
              <label for="reason">Почему вам нравится это время года: </label>
              <input
                type="text"
                id="reason"
                style="padding: 5px; width: 200px"
              />
            </div>
            <button onclick="processFormData()">Ответить</button>
          </div>
        </div>
      </section>
      <script>
        function processFormData() {
          const season = document.getElementById("season").value;
          const description = document.getElementById("description").value;
          const reason = document.getElementById("reason").value;

          if (!season || !description || !reason) {
            alert("Пожалуйста, заполните все поля!");
            return;
          }

          const message = `Мне нравится ${description} ${season}`;

          alert(message);
        }
      </script>

      <section class="section">
        <div class="section__btm">
          <h2>Задание 3</h2>
          <div style="width: 100%; max-width: 500px">
            <div style="margin-bottom: 15px">
              <label for="name">Имя: </label>
              <input type="text" id="name" style="padding: 5px; width: 200px" />
            </div>
            <div style="margin-bottom: 15px">
              <label for="age">Возраст: </label>
              <input type="text" id="age" style="padding: 5px; width: 200px" />
            </div>
            <div style="margin-bottom: 15px">
              <label for="height">Рост (см): </label>
              <input
                type="text"
                id="height"
                style="padding: 5px; width: 200px"
              />
            </div>
            <div style="margin-bottom: 15px">
              <label for="weight">Вес (кг): </label>
              <input
                type="text"
                id="weight"
                style="padding: 5px; width: 200px"
              />
            </div>
            <div style="margin-bottom: 15px">
              <label for="email">Email: </label>
              <input
                type="text"
                id="email"
                style="padding: 5px; width: 200px"
              />
            </div>
          </div>
        </div>
      </section>
      <script>
        function setZeroToNumericFields() {
          const ageField = document.getElementById("age");
          const heightField = document.getElementById("height");
          const weightField = document.getElementById("weight");

          ageField.value = "0";
          heightField.value = "0";
          weightField.value = "0";
        }
        window.onload = function () {
          setZeroToNumericFields();
        };
      </script>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fullPage.js/4.0.20/fullpage.min.js"></script>
    <script>
      new fullpage("#fullpage", {
        autoScrolling: true,
        scrollHorizontally: false,
        navigation: true,
        navigationPosition: "right",
        css3: true,
      });
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fullPage.js/4.0.20/fullpage.min.js"></script>
    <script>
      let fullpageInstance;

      // Функция для сохранения позиции страницы
      function saveCurrentPosition() {
        const currentSection = fullpageInstance.getActiveSection().index;
        localStorage.setItem('lastPagePosition', currentSection);
      }

      // Функция для восстановления последней позиции
      function restoreLastPosition() {
        const lastPosition = localStorage.getItem('lastPagePosition');
        if (lastPosition !== null) {
          fullpageInstance.moveTo(parseInt(lastPosition) + 1);
        }
      }

      // Инициализация fullPage.js
      document.addEventListener('DOMContentLoaded', function() {
        fullpageInstance = new fullpage("#fullpage", {
          autoScrolling: true,
          scrollHorizontally: false,
          navigation: true,
          navigationPosition: "right",
          css3: true,
          // Событие после загрузки fullPage
          afterRender: function() {
            // Восстановление позиции после загрузки страницы
            restoreLastPosition();
          },
          // Событие при изменении секции
          onLeave: function(origin, destination, direction) {
            // Сохраняем новую позицию при прокрутке
            saveCurrentPosition();
          }
        });

        // Сохраняем позицию при переходе на другую страницу
        const links = document.querySelectorAll('a[href]:not([href^="#"])');
        links.forEach(link => {
          link.addEventListener('click', function() {
            saveCurrentPosition();
          });
        });

        // Также сохраняем позицию при закрытии страницы
        window.addEventListener('beforeunload', function() {
          saveCurrentPosition();
        });
      });
    </script>
  </body>
</html>
